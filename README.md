# KT 제 2회 통신망 안정성 확보를 위한 인공지능 해커톤
  

## 맡은 분야 : 분야 2 | 유선 네트워크 장비의 신속한 조치를 위한 경보 유형 분류
  
### 출제 배경 : 
- 통신사업자의 네트워크망은 정해진 표준 통신 규격을 준수하는 다양한 이기종 장치들로 구성 및 운용됩니다.  
하지만, 여러 장치 제조사들로부터의 자체 경보 메시지는 그 표현 방식이 서로 다르므로,  
통신사업자에서 신규 장치를 수용하는 경우 정규화 과정이라는 적지 않은 수작업을 필요로 합니다.  
통신 장치의 실시간 상태를 신속히 파악하고 조치하는 것은 네트워크망 안정성 확보를 위한 가장 중요한 일이므로, 
AI를 활용하여 이 문제를 해결하고자 합니다.  
  
### 학습 데이터 : 
- 인접 시간에 인접 장치에서 발생한 경보들은 상호 연관성을 가지므로 하나의 전표로 군집화 됩니다.  
본 데이터에서는 전표별 경보 메시지의 목록과 발생 시각, 발생 위치 등의 상세 정보가 피처로 제공되며  
해당 전표의 장애 유형이 레이블로 제공됩니다.    
    
### 문제 구성 및 풀이 요령 :   
- 모든 전표 ID에 대해 링크 장애, 유니트 장애, 전원 장애 중 하나의 유형으로 예측하는 분류 문제입니다.   
경보 메시지를 구성하는 다양한 키워드의 의미와 조합을 이해하고,   
다수의 경보 간 발생 순서를 고려하는 것이 중요합니다.   
                         
### 채점 기준 :   
- 정확도(Accuracy)  

  
## 핵심 문제 상황
  
### 제공된 Train Data에는 없는 제출용 Test Data만 가지고 있는 값들
- 도메인 지식 활용이 필요함.
  경보 메세지에서 핵심 키워드만 추출해 Train Data와 동일한 형식을 갖도록 Test Data의 경보메세지를 전처리 하는 과정이 필요.  

## 문제 해결 과정

### 1. Feature 중요도 판단 및 불필요한 Feature 제거
- Feature Importence가 낮거나 1가지의 값만 가지는 root_cause_domain, sva등의 feature 삭제
- 경보 발생 시간에서 각 요소를 추출해 확인해본 결과 Hour, weekdayak만 추출해 남기고 경보 발생 시간 제거

### 2. 경보 메세지 분석
- 경보메세지 분석을 위해 도메인 지식을 학습해 메세지를 분석해본 결과 경모 메세지 유형은 다르지만 loss of signal, loss of communication등 특정 핵심 키워드를 내포하고 있음을 확인.
- 기종에 따라 메세지가 축약어 형태로 되어있거나 혹은 일반 단어로 되어있거나 하는 등 양식이 통일되어 있지 않아 문제 발생.
- 이것을 가지고 모든 경보 메세지의 종류를 추출해 각각 단어로 쪼개고, 쪼갠 단어들 중 축약어를 추출해 축약어 리스트를 생성하고, 각각을 풀어쓰기 위한 딕셔너리 파일 생성
- 이후 모든 경보 메세지 종류에 사용된 축약어를 제거하고 -, ' ', _ 등으로 분리된 단어를 기준으로 각각 문장을 리스트화 시켜 임베딩 벡터 모델에 사용할 단어사전으로 생성
  ex) OPT-PWR-LOW -> ['optical', 'power', 'low']
- 임베딩 벡터 모델은 gensim의 FastText 또는 Word2Vector 모델을 사용
- 각각 경보 메세지에 대해 임베딩 벡터 모델을 사용해 각 경보메세지를 벡터화 후 각각 하나의 feature을 부여  
  단 단어의 길이가 다 달라서 각각 단어 간 대조되는 벡터값의 평균을 계산해 모든 경보메세지가 모두 동일하게 vector_size길이의 하나의 리스트로 추출되게 전처리

### 3. autogluon 모델을 활용해 학습 / 예측 / 검토
- Train Data는 어떤 ML 모델을 사용해도 정확도가 매우 높아서 각각 모든 모델을 Test 데이터에 대한 성능검증이 필요한 상황.
- 도메인 지식 추가 학습 및 사전OT에서의 정보를 기반으로 확인해본 결과 Target은 특정 비율을 가지고 있는 것을 확인.
- 때문에 autogluon이 학습한 모든 모델을 가지고 Test 데이터에 대한 결과를 예측하고 각각 모델이 예측한 Target의 비율을 확인
- 그 비율과 가장 가깝게 예측한 모델의 예측결과를 제출  

## 최종 결과

### 정확도 87.6% / 25위

### 복기 시 받았던 피드백
- 단어사전 생성 및 전처리 시 좀더 핵심 키워드만 추출해 남겨두는 방안을 고민해봐도 좋았을 것.
- AutoGluon 뿐 아니라 자연어 처리에 적합한 DL모델을 활용해도 좋을 것.
- 경보메세지를 일정한 길이로 만들어 단어들 간의 벡터 값의 평균을 구할 때 발생하는 손실이 없도록 해보면 더 좋을 것.


## 파일 사용 시 유의사항
### 다양한 라이브러리 설치 및 Python 버전관리 필요
- 사용한 Conda env를 yaml로 추출해 함께 올려두었습니다. Anaconda를 설치해 해당 가상환경을 이용하시기 바랍니다.
- 제공된 데이터는 해커톤 방침에 따라 업로드가 불가능해서 jupyter 파일 및 관련 파일들만 업로드 되어 있습니다.
- 때문에 임베딩벡터 모델 혹은 AutoGluon 등 기술에 대한 사용 방식, 혹은 Test의 내용을 Train에서 활용하지 못하는 경우 어떻게 대처하는 지 등에 대한 참고용으로만 사용하시기 바랍니다.
